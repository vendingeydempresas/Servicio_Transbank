// Asegúrate de tener esta importación al principio de tu archivo index.jsconst express = require('express');const { createTransaction } = require('./transbank');  // Asumiendo que tienes esta función en transbank.jsconst { WebpayPlus, Options, Environment } = require('transbank-sdk');const app = express(); // Aquí inicializas el servidor Expressconst PORT = process.env.PORT || 3000;// Configuración de Transbank (por ejemplo)const options = new Options(  '597055555532', // Código de comercio  '579B532A7440BB0C9079DED94D31EA1615BACEB56610332264630D42D0A36B1C', // API Key  Environment.Integration);app.use(express.urlencoded({ extended: true }));  // Para leer datos en el body de las solicitudes// Define las rutas para manejar las solicitudesapp.get('/pago', async (req, res) => {  const data = req.query.data;  if (!data) {    return res.status(400).send('Datos de pago no recibidos');  }  let producto;  try {    producto = JSON.parse(decodeURIComponent(data));  } catch (err) {    return res.status(400).send('Error al procesar los datos del pago');  }  const { title, price } = producto;  const buyOrder = `order_${Date.now()}`;  const sessionId = `session_${Math.floor(Math.random() * 100000)}`;  const amount = price;  const returnUrl = `${BASE_URL}/retorno`;  try {    const { url, token } = await createTransaction({      buyOrder,      sessionId,      amount,      returnUrl,    });    res.send(`      <html>        <body onload="document.forms[0].submit()">          <form action="${url}" method="POST">            <input type="hidden" name="token_ws" value="${token}" />          </form>        </body>      </html>    `);  } catch (error) {    console.error('Error creando transacción:', error);    res.status(500).send('Error en el servidor');  }});// Inicia el servidorapp.listen(PORT, () => {  console.log(`Servidor escuchando en puerto ${PORT}`);});